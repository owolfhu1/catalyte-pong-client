<div>
  <h1>Games</h1>

  <button (click)="viewAll()">view all games</button><button (click)="clear()">clear</button><br>
  <select #player>
    <option *ngFor="let name of names" [value]="name">{{ name }}</option>
  </select>
  <button (click)="lookupPlayer(player.value)">'s games</button>
  <br>
  <select #playerOne>
    <option *ngFor="let name of names" [value]="name">{{ name }}</option>
  </select>
  vs
  <select #playerTwo>
    <option *ngFor="let name of names" [value]="name">{{ name }}</option>
  </select>
  <button (click)="lookupPlayers(playerOne.value, playerTwo.value)">lookup</button>
  <br>


  <table *ngIf="games?.length > 0">
    <tr *ngFor="let game of games">
      <td [ngClass]="{'win': game.scoreOne > game.scoreTwo}">
        {{ game.playerOne }}<br>{{ game.scoreOne }}
      </td>
      <td>vs</td>
      <td [ngClass]="{'win': game.scoreOne < game.scoreTwo}">
        {{ game.playerTwo }}<br>{{ game.scoreTwo }}
      </td>
      <td>
        <button (click)="edit(game)">edit</button>
      </td>
    </tr>
  </table>

</div>

<form [ngClass]="{'hide': hide}">
  <h1 *ngIf="editing"> editing game #{{ editing.gameNumber }}</h1>
  <table class="pad">
    <tr>
      <td>
        <select #player1>
          <option *ngFor="let name of names" [value]="name">{{ name }}</option>
        </select>
        <br>
        <input type="number" min="0" #score1>
      </td>
      <td>vs</td>
      <td>
        <select #player2>
          <option *ngFor="let name of names" [value]="name">{{ name }}</option>
        </select>
        <br>
        <input type="number" min="0" #score2>
      </td>
    </tr>
  </table>
  <button type="button" (click)="save(player1.value, player2.value, score1.value, score2.value)">save game</button>
  <button type="button" (click)="hideMe()">close</button>
</form>
